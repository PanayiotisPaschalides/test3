(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},109:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(8),l=a.n(i),c=a(9),o=a(10),r=a(13),m=a(11),u=a(14),d=a(1),g=a(3),h=a.n(g),p=a(70),v=Object(p.a)(),b=(a(97),a(43)),C=a.n(b),E=a(173),O=(a(102),a(65)),S=a.n(O),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).state={logUser:a.props.user,RecieverUser:a.props.Reciever,rating:0,People:0,Rates:[]},a.onStarClick=a.onStarClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/api/GetRating",{params:{User:this.state.RecieverUser}}).then(function(t){if(e.setState({Rates:t.data.Rates,People:t.data.People}),0!==e.state.People){for(var a=0,n=0;n<e.state.People;n++)a+=e.state.Rates[n].rating;e.setState({rating:a/e.state.People})}})}},{key:"onStarClick",value:function(e,t,a){this.setState({rating:e})}},{key:"render",value:function(){return s.a.createElement("div",{style:{fontSize:"30px"}},s.a.createElement("link",{rel:"stylesheet",href:"node_modules/react-star-rating/dist/css/react-star-rating.min.css"}),s.a.createElement(S.a,{name:"rate1",starCount:5,starColor:"#A66FA6",value:this.state.rating,onStarClick:this.onStarClick}))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).state={logUser:a.props.user,UserID:"",Page:"",ChatList:[],ActiveChat:"",ToUser:"",SenderUser:"",RecieverUser:"",MessagesList:[],MessengerMsg:""},a.LoadChatItems=a.LoadChatItems.bind(Object(d.a)(Object(d.a)(a))),a.LoadMessages=a.LoadMessages.bind(Object(d.a)(Object(d.a)(a))),a.OpenChat=a.OpenChat.bind(Object(d.a)(Object(d.a)(a))),a.OnMsgChange=a.OnMsgChange.bind(Object(d.a)(Object(d.a)(a))),a.SendMsg=a.SendMsg.bind(Object(d.a)(Object(d.a)(a))),a.UpdateStatus=a.UpdateStatus.bind(Object(d.a)(Object(d.a)(a))),a.OpenAdvert=a.OpenAdvert.bind(Object(d.a)(Object(d.a)(a))),a.ReadMsg=a.ReadMsg.bind(Object(d.a)(Object(d.a)(a))),a.CheckRead=a.CheckRead.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.LoadChatItems(),this.interval=setInterval(function(){e.LoadMessages(e.state.ActiveChat),e.LoadChatItems(),""!==e.state.ActiveChat&&(e.ReadMsg(),e.UpdateStatus(e.state.SenderUser,"yes"))},1e3)}},{key:"LoadChatItems",value:function(){var e=this;h.a.get("/api/LoadChatItems",{params:{UserName:this.state.logUser}}).then(function(t){e.setState({ChatList:t.data})})}},{key:"OpenChat",value:function(e,t,a,n){this.setState({ToUser:t,SenderUser:a,RecieverUser:n}),this.LoadMessages(e),this.ReadMsg()}},{key:"LoadMessages",value:function(e){var t=this;h.a.get("/api/LoadMessages",{params:{ChatID:e}}).then(function(a){t.setState({MessagesList:a.data,ActiveChat:e})})}},{key:"OnMsgChange",value:function(e){this.setState({MessengerMsg:e.target.value})}},{key:"SendMsg",value:function(){var e=this,t=this.state.MessengerMsg;if(void 0!==this.state.ActiveChat&&""!==this.state.MessengerMsg){var a={By:this.state.logUser,To:this.state.ToUser,Message:this.state.MessengerMsg,ID:this.state.ActiveChat};h.a.post("/api/SendMsg",a).then(function(t){t.data.status&&e.setState({MessengerMsg:""})}).then(this.UpdateStatus(this.state.RecieverUser,"no")).then(this.UpdateChat(t))}}},{key:"CheckRead",value:function(e){var t=this;h.a.get("/api/checkRead",{params:{UserName:this.state.logUser,ID:e}}).then(function(e){e.data?t.setState({font_color:"black",font_weight:"bold"}):t.setState({font_color:"rgba(75, 75, 75, 0.726)",font_weight:"none"})})}},{key:"UpdateStatus",value:function(e,t){var a={user:e,status:t,ID:this.state.ActiveChat};h.a.post("/api/UpdateStatus",a).then(function(e){e.data.status})}},{key:"ReadMsg",value:function(){var e={User:this.state.logUser,ID:this.state.ActiveChat};h.a.post("/api/ReadMsg",e).then(function(e){e.data.status})}},{key:"UpdateChat",value:function(e){var t=this,a={UserName:this.state.logUser,ChatID:this.state.ActiveChat,LastMsg:e.substring(0,8)+" ..."};h.a.post("/api/UpdateChat",a).then(function(e){e.data.status&&t.LoadChatItems()})}},{key:"OpenAdvert",value:function(e){this.props.addopen(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"MessengerContainer"},s.a.createElement("div",{className:"sidepanel",ref:function(t){e.SidePanel=t}},this.state.ChatList.map(function(t){return[s.a.createElement("div",{className:"chatItem",key:t.id},t.by_user===e.state.logUser?s.a.createElement("div",{className:"chatItemContainer",onClick:function(){return e.OpenChat(t.id,t.to_user,"by_read","to_read")}},s.a.createElement("div",{className:"chatItemLeft"},s.a.createElement("img",{className:"ChatItemImg",src:"/Uploaded_Images/"+t.advert_img,alt:"chat.advert_img"})),s.a.createElement("div",{className:"chatItemRight"},s.a.createElement("div",{className:"ChatItemName"},t.advert_title),t.last_sender===e.state.logUser?s.a.createElement("div",{className:"ChatItemPreview"},"You: ",t.last_msg):null,t.last_sender!==e.state.logUser&&"no"===t.by_read?s.a.createElement("div",{className:"ChatItemPreviewBold"},t.last_msg):null,t.last_sender!==e.state.logUser&&"yes"===t.by_read?s.a.createElement("div",{className:"ChatItemPreview"},t.last_msg):null)):s.a.createElement("div",{className:"chatItemContainer",onClick:function(){return e.OpenChat(t.id,t.by_user,"to_read","by_read")}},s.a.createElement("div",{className:"chatItemLeft"},s.a.createElement("img",{className:"ChatItemImg",src:"/Uploaded_Images/"+t.advert_img,alt:"chat.advert_img"})),s.a.createElement("div",{className:"chatItemRight"},s.a.createElement("div",{className:"ChatItemName"},t.advert_title),t.last_sender===e.state.logUser?s.a.createElement("div",{className:"ChatItemPreview"},"You: ",t.last_msg):null,t.last_sender!==e.state.logUser&&"no"===t.to_read?s.a.createElement("div",{className:"ChatItemPreviewBold"},t.last_msg):null,t.last_sender!==e.state.logUser&&"yes"===t.to_read?s.a.createElement("div",{className:"ChatItemPreview"},t.last_msg):null)))]})),s.a.createElement("div",{className:"mainpanel"},s.a.createElement("div",{className:"advertpanel"},this.state.ChatList.map(function(t){return[s.a.createElement("div",{key:t.id},t.id===e.state.ActiveChat?s.a.createElement("div",{className:"advertItems"},s.a.createElement("div",{className:"AdvertInitialImg"},t.by_user===e.state.logUser?s.a.createElement("label",{className:"AdvertInitialChar"},t.to_user[0].toUpperCase()):s.a.createElement("label",null,t.by_user[0].toUpperCase())),s.a.createElement("div",{className:"AdvertDetails"},s.a.createElement("label",{className:"AdvertTitle",onClick:function(){return e.OpenAdvert(t.advert_id)}},t.advert_title),s.a.createElement("label",{className:"AdvertPrice"}," \xa3",t.advert_price),s.a.createElement(f,{user:e.state.logUser,Reciever:e.state.ToUser}))):s.a.createElement("div",null))]})),s.a.createElement("div",{className:"chatpanel",ref:function(t){e.ChatPanel=t}},this.state.MessagesList.map(function(t){return[s.a.createElement("div",{key:t.id},t.by_user===e.state.logUser?s.a.createElement("div",{className:"MessageContainer"},s.a.createElement("div",{className:"SendMsgContainer"},s.a.createElement("div",{className:"SendMsgText"},t.message))):s.a.createElement("div",{className:"MessageContainer"},s.a.createElement("div",{className:"recievedMsgContainer"},s.a.createElement("div",{className:"recievedMsgText"},t.message))))]})),s.a.createElement("div",{className:"bottompanel"},s.a.createElement("div",{className:"messagepanel"},s.a.createElement("textarea",{className:"TextArea",placeholder:"Type Mesage",value:this.state.MessengerMsg,onChange:this.OnMsgChange})),s.a.createElement("div",{className:"chatbuttons"},s.a.createElement("button",{className:"MessengerSendBtn",onClick:this.SendMsg},"Send"))))))}}]),t}(n.Component),k=a(30),I=a.n(k),y=(a(109),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).state={logUser:a.props.user,Images:[],DefaultImg:"yes",Preview:null,ImgList:[],testlist:[],title:"",type:"",PreviewImage:!1,selectedImg:0,SelectShow:!1,description:"",cents:0,pounds:0},a.AddImages=a.AddImages.bind(Object(d.a)(Object(d.a)(a))),a.DisplayImages=a.DisplayImages.bind(Object(d.a)(Object(d.a)(a))),a.sleep=a.sleep.bind(Object(d.a)(Object(d.a)(a))),a.Remove=a.Remove.bind(Object(d.a)(Object(d.a)(a))),a.upload=a.upload.bind(Object(d.a)(Object(d.a)(a))),a.onChangeTitle=a.onChangeTitle.bind(Object(d.a)(Object(d.a)(a))),a.onChangeDropDown=a.onChangeDropDown.bind(Object(d.a)(Object(d.a)(a))),a.SelectImage=a.SelectImage.bind(Object(d.a)(Object(d.a)(a))),a.SelectOpen=a.SelectOpen.bind(Object(d.a)(Object(d.a)(a))),a.SelectClose=a.SelectClose.bind(Object(d.a)(Object(d.a)(a))),a.OnDescriptionChange=a.OnDescriptionChange.bind(Object(d.a)(Object(d.a)(a))),a.OnPoundsChange=a.OnPoundsChange.bind(Object(d.a)(Object(d.a)(a))),a.OnCentsChange=a.OnCentsChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"SelectClose",value:function(){this.setState({SelectShow:!1})}},{key:"SelectOpen",value:function(){this.setState({SelectShow:!0})}},{key:"AddImages",value:function(e){var t=this;e.preventDefault();var a=this.state.testlist,n=this.state.ImgList;this.sleep(200);for(var s=0;s<e.target.files.length;s++)a.push(e.target.files[s]),n.push(URL.createObjectURL(e.target.files[s]));this.setState({ImgList:n,Images:a}),setTimeout(function(){t.DisplayImages()},200)}},{key:"DisplayImages",value:function(){console.log(this.state.Images),console.log(this.state.type)}},{key:"sleep",value:function(e){console.log("sleep");for(var t=(new Date).getTime(),a=0;a<1e7&&!((new Date).getTime()-t>e);a++);}},{key:"Remove",value:function(e){var t=this.state.ImgList,a=this.state.Images,n=t.indexOf(e);n>-1&&(t.splice(n,1),a.splice(n,1)),this.setState({ImgList:t,Images:a,PreviewImage:!1,selectedImg:0})}},{key:"upload",value:function(){console.log(this.state.Images.length);for(var e=0;e<this.state.Images.length;e++){var t=new FormData;t.append("file",this.state.Images[e],this.state.Images[e].name),h.a.post("/api/Upload",t)}}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeDropDown",value:function(e){this.setState({type:e.target.value})}},{key:"SelectImage",value:function(e){this.setState({selectedImg:e,PreviewImage:!0}),this.SelectClose()}},{key:"OnDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"OnPoundsChange",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&this.setState({pounds:e.target.value})}},{key:"OnCentsChange",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&this.setState({cents:e.target.value})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"StartingSpacer"}),s.a.createElement("div",{className:"Section"},s.a.createElement("div",{className:"SectionTitle"},s.a.createElement("label",{className:"SectionText"},"Ad Title")),s.a.createElement("div",{className:"SectionBody"},s.a.createElement("input",{type:"text",name:"title",placeholder:"Enter ad Title",value:this.state.title,onChange:this.onChangeTitle}))),s.a.createElement("div",{className:"Spacer"}),s.a.createElement("div",{className:"Section"},s.a.createElement("div",{className:"SectionTitle"},s.a.createElement("label",{className:"SectionText"},"Ad type")),s.a.createElement("div",{className:"SectionBody"},s.a.createElement("select",{className:"DropDown",onClick:this.onChangeDropDown},s.a.createElement("option",{value:"Electrical",className:"DropDownOption"},"Electrical"),s.a.createElement("option",{value:"Gardening",className:"DropDownOption"},"Gardening"),s.a.createElement("option",{value:"Cars",className:"DropDownOption"},"Cars"),s.a.createElement("option",{value:"Motorbikes",className:"DropDownOption"},"Motorbikes"),s.a.createElement("option",{value:"Sports",className:"DropDownOption"},"Sports"),s.a.createElement("option",{value:"Clothing",className:"DropDownOption"},"Clothing"),s.a.createElement("option",{value:"audi",className:"DropDownOption"},"Education")))),s.a.createElement("div",{className:"Spacer"}),s.a.createElement("div",{className:"Section"},s.a.createElement("div",{className:"SectionTitle"},s.a.createElement("label",{className:"SectionText"},"Add Images")),s.a.createElement("div",{className:"SectionBody"},s.a.createElement("div",{className:"ImagesContainer"},s.a.createElement("div",null,s.a.createElement("input",{type:"file",multiple:!0,onChange:this.AddImages,ref:function(t){return e.ImageInput=t}})),s.a.createElement("div",{onClick:function(){return e.ImageInput.click()},className:"ImageContainer"},s.a.createElement("img",{className:"Image",src:"/Uploaded_Images/preview.jpg",alt:""})),this.state.ImgList.map(function(t,a){return s.a.createElement("div",{key:a,className:"ImageContainer"},s.a.createElement("img",{className:"Image",src:e.state.ImgList[a],alt:""}),s.a.createElement("button",{className:"RemoveBtn",onClick:function(){return e.Remove(t)}},"x"))})))),s.a.createElement("div",{className:"Spacer"}),s.a.createElement("div",{className:"Section"},s.a.createElement("div",{className:"SectionTitle"},s.a.createElement("label",{className:"SectionText"},"Select Ad Display Image")),s.a.createElement("div",{className:"SectionBody",style:{textAlign:"center"}},s.a.createElement("div",{onClick:this.SelectOpen,className:"ImageContainer"},this.state.PreviewImage?s.a.createElement("img",{className:"Image",src:this.state.ImgList[this.state.selectedImg],alt:""}):s.a.createElement("button",{className:"SelectBtn"},"+")))),s.a.createElement("div",{className:"Spacer"}),s.a.createElement("div",{className:"Section"},s.a.createElement("div",{className:"SectionTitle"},s.a.createElement("label",{className:"SectionText"},"Description")),s.a.createElement("div",{className:"SectionBody"},s.a.createElement("textarea",{className:"Description",placeholder:"Type Products Description",value:this.state.description,onChange:this.OnDescriptionChange}))),s.a.createElement(E.a,{show:this.state.SelectShow,onHide:this.SelectClose},s.a.createElement("button",{className:"Modal-Close-Btn",onClick:this.SelectClose},"X"),s.a.createElement(E.a.Header,null,s.a.createElement("label",{className:"Modal-Title"},"Select Image")),s.a.createElement(E.a.Body,null,this.state.ImgList.map(function(t,a){return s.a.createElement("div",{key:a,className:"ImageContainer",onClick:function(){return e.SelectImage(a)}},s.a.createElement("img",{className:"Image",src:e.state.ImgList[a],alt:""}))}))),s.a.createElement("div",{className:"Spacer"}),s.a.createElement("div",{className:"Section"},s.a.createElement("div",{className:"SectionTitle"},s.a.createElement("label",{className:"SectionText"},"Sell For")),s.a.createElement("div",{className:"SectionBody"},s.a.createElement("div",{className:"price"},s.a.createElement("label",{className:"PriceSymbol"},"\xa3"),s.a.createElement("input",{type:"number",name:"pounds",placeholder:"00",value:this.state.pounds,onChange:this.OnPoundsChange,step:"any",min:"1"}),s.a.createElement("label",{className:"PriceSeparator"},"."),s.a.createElement("input",{type:"number",name:"cents",placeholder:"00",value:this.state.cents,onChange:this.OnCentsChange,step:"any",min:"1",max:"99"})))))}}]),t}(n.Component)),j=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(m.a)(t).call(this))).state={LoginShow:!1,SignupShow:!1,DropDownMenuShow:!1,Username:"",Password:"",PasswordConfirm:"",Email:"",searchField:"",AdvertList:[],TempManagmentList:[],recipesList:[],ManagmentList:[],logUser:"",UserID:"",Page:"",OpenedRecipe:[],IngredientsList:[],ChatList:[],ActiveChat:"",ToUser:"",SenderUser:"",RecieverUser:"",MessagesList:[],testimg:[],MessengerMsg:"",MessengerStatus:"fas fa-comment-o",LoggedIn:!0,lat:"52.018099",long:"-1.49229",song:[],pictures:[]},e.handleClickHome=e.handleClickHome.bind(Object(d.a)(Object(d.a)(e))),e.handleClickRecipe=e.handleClickRecipe.bind(Object(d.a)(Object(d.a)(e))),e.handleClickLog=e.handleClickLog.bind(Object(d.a)(Object(d.a)(e))),e.handleClickReg=e.handleClickReg.bind(Object(d.a)(Object(d.a)(e))),e.handleClickUsername=e.handleClickUsername.bind(Object(d.a)(Object(d.a)(e))),e.onChangesearchField=e.onChangesearchField.bind(Object(d.a)(Object(d.a)(e))),e.onChangeUsername=e.onChangeUsername.bind(Object(d.a)(Object(d.a)(e))),e.onChangePassword=e.onChangePassword.bind(Object(d.a)(Object(d.a)(e))),e.onChangePasswordConfirm=e.onChangePasswordConfirm.bind(Object(d.a)(Object(d.a)(e))),e.onChangeEmail=e.onChangeEmail.bind(Object(d.a)(Object(d.a)(e))),e.LoadAdverts=e.LoadAdverts.bind(Object(d.a)(Object(d.a)(e))),e.Search=e.Search.bind(Object(d.a)(Object(d.a)(e))),e.LoginOpen=e.LoginOpen.bind(Object(d.a)(Object(d.a)(e))),e.LoginClose=e.LoginClose.bind(Object(d.a)(Object(d.a)(e))),e.SignupOpen=e.SignupOpen.bind(Object(d.a)(Object(d.a)(e))),e.SignupClose=e.SignupClose.bind(Object(d.a)(Object(d.a)(e))),e.onLoginSubmit=e.onLoginSubmit.bind(Object(d.a)(Object(d.a)(e))),e.onSignupSubmit=e.onSignupSubmit.bind(Object(d.a)(Object(d.a)(e))),e.Logout=e.Logout.bind(Object(d.a)(Object(d.a)(e))),e.SignupLink=e.SignupLink.bind(Object(d.a)(Object(d.a)(e))),e.LoginLink=e.LoginLink.bind(Object(d.a)(Object(d.a)(e))),e.OpenDropDown=e.OpenDropDown.bind(Object(d.a)(Object(d.a)(e))),e.CloseDropDown=e.CloseDropDown.bind(Object(d.a)(Object(d.a)(e))),e.onManageRecipesClick=e.onManageRecipesClick.bind(Object(d.a)(Object(d.a)(e))),e.ConstructManagmentList=e.ConstructManagmentList.bind(Object(d.a)(Object(d.a)(e))),e.publish=e.publish.bind(Object(d.a)(Object(d.a)(e))),e.un_publish=e.un_publish.bind(Object(d.a)(Object(d.a)(e))),e.LoadRecipe=e.LoadRecipe.bind(Object(d.a)(Object(d.a)(e))),e.OnMessengerClick=e.OnMessengerClick.bind(Object(d.a)(Object(d.a)(e))),e.CheckForNewMessages=e.CheckForNewMessages.bind(Object(d.a)(Object(d.a)(e))),e.OpenAdvert=e.OpenAdvert.bind(Object(d.a)(Object(d.a)(e))),e.PostAdd=e.PostAdd.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){var e=this;void 0!==this.props.User&&void 0!==this.props.ID?(this.setState({logUser:this.props.User,UserID:this.props.ID,Page:"Home",LoggedIn:!0}),this.interval=setInterval(function(){e.CheckForNewMessages()},1e3)):this.setState({Page:"Home",LoggedIn:!1}),this.LoadAdverts()}},{key:"LoginOpen",value:function(){console.log(this.state.testimg);var e=this;I.a.setApiKey("AIzaSyDDzkcHMNPwBQcJAMTet_kFkpO75zCxNJI"),I.a.enableDebug(),I.a.fromAddress("CV12HZ").then(function(t){var a=t.results[0].geometry.location,n=a.lat,s=a.lng;e.setState({lat:n,long:s}),console.log(n,s),console.log(e.state.lat)},function(e){console.error(e)}),this.setState({LoginShow:!0})}},{key:"LoginClose",value:function(){this.setState({LoginShow:!1,Password:"",Username:""})}},{key:"SignupOpen",value:function(){this.setState({SignupShow:!0})}},{key:"SignupClose",value:function(){this.setState({SignupShow:!1,Password:"",Username:"",PasswordConfirm:"",Email:""})}},{key:"LoadAdverts",value:function(){var e=this;h.a.get("/api/GetAdverts").then(function(t){e.setState({AdvertList:t.data})})}},{key:"onChangesearchField",value:function(e){this.setState({searchField:e.target.value})}},{key:"onChangeUsername",value:function(e){this.setState({Username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({Password:e.target.value})}},{key:"onChangePasswordConfirm",value:function(e){this.setState({PasswordConfirm:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({Email:e.target.value})}},{key:"handleClickHome",value:function(e){e.preventDefault(),this.LoadAdverts(),this.setState({Page:"Home"})}},{key:"handleClickRecipe",value:function(e){e.preventDefault(),this.setState({Page:"Recipe"})}},{key:"handleClickLog",value:function(e){e.preventDefault(),v.push("/login")}},{key:"handleClickReg",value:function(e){e.preventDefault(),v.push("/register")}},{key:"handleClickUsername",value:function(e){e.preventDefault(),this.setState({Page:""})}},{key:"Search",value:function(e){e.preventDefault(),console.log(this.state.testimg)}},{key:"Logout",value:function(){this.props.LogUserOut(),window.location.reload()}},{key:"onLoginSubmit",value:function(e){var t=this;h.a.get("/api/Login",{params:{Username:this.state.Username,Password:this.state.Password}}).then(function(e){e.data.status&&(console.log(e.data),t.setState({logUser:t.state.Username,UserID:e.data.ID}),t.props.LogUserIn(t.state.Username,e.data.ID),t.LoginClose(),window.location.reload())})}},{key:"onSignupSubmit",value:function(){var e=this;if(this.state.Password!==this.state.PasswordConfirm);else{var t={Username:this.state.Username,Email:this.state.Email,Password:this.state.Password};h.a.post("/api/Register",t).then(function(t){t.data.status&&(e.SignupClose(),e.LoginOpen())})}}},{key:"LoginLink",value:function(){this.SignupClose(),this.LoginOpen()}},{key:"SignupLink",value:function(){this.LoginClose(),this.SignupOpen()}},{key:"OpenDropDown",value:function(){this.setState({DropDownMenuShow:!0})}},{key:"CloseDropDown",value:function(){this.setState({DropDownMenuShow:!1})}},{key:"onManageRecipesClick",value:function(e){var t=this,a=this;h.a.get("/api/GetRecipesManagment",{params:{ID:this.state.UserID}}).then(function(e){t.setState({TempManagmentList:e.data})}).then(function(){a.ConstructManagmentList()})}},{key:"ConstructManagmentList",value:function(){var e=this.state.TempManagmentList.map(function(e){return{id:e.id,image:e.image,title:e.title,keywords:e.keywords,views:e.views,comments:e.comments,status:e.status}});this.setState({ManagmentList:e,Page:"Managment"})}},{key:"publish",value:function(e){var t=this,a={ID:e,Status:"yes"};h.a.post("/api/UpdateRecipeStatus",a).then(function(e){e.data.status&&t.onManageRecipesClick()})}},{key:"un_publish",value:function(e){var t=this,a={ID:e,Status:"no"};h.a.post("/api/UpdateRecipeStatus",a).then(function(e){e.data.status&&t.onManageRecipesClick()})}},{key:"OpenRecipe",value:function(e){var t=this;this.setState({IngredientsList:[]});var a={ID:e};h.a.post("/api/UpdateRecipeViews",a).then(function(a){a.data.status&&t.LoadRecipe(e)})}},{key:"LoadRecipe",value:function(e){var t=this;h.a.get("/api/GetRecipe",{params:{ID:e}}).then(function(e){t.setState({OpenedRecipe:e.data})})}},{key:"OnMessengerClick",value:function(e){e.preventDefault(),this.setState({Page:"Messenger"})}},{key:"PostAdd",value:function(e){e.preventDefault(),this.setState({Page:"CreateAdd"})}},{key:"CheckForNewMessages",value:function(){var e=this;h.a.get("/api/New_Messages_Check",{params:{UserName:this.state.logUser}}).then(function(t){t.data?e.setState({MessengerStatus:"fas fa-comment"}):e.setState({MessengerStatus:"fas fa-comment-o"})})}},{key:"OpenAdvert",value:function(e){console.log(e+" Yes im working")}},{key:"render",value:function(){var e,t,a=this;return t=this.state.LoggedIn?s.a.createElement("header",{onMouseEnter:this.CloseDropDown},s.a.createElement("h1",{className:"sansserif"},"e"),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{name:"buttonHome",onClick:this.handleClickHome,className:"ButtonStyle"},"Home"),s.a.createElement("button",{name:"buttonUsername",onMouseOver:this.OpenDropDown,className:"ButtonStyle"},s.a.createElement(C.a,{name:"fas fa-user"})),s.a.createElement("button",{className:"ButtonMessenger",onClick:this.OnMessengerClick},s.a.createElement(C.a,{name:this.state.MessengerStatus})))):s.a.createElement("header",{onMouseEnter:this.CloseDropDown},s.a.createElement("h1",null,"My Stuff"),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{name:"buttonHome",onClick:this.handleClickHome,className:"ButtonStyle"},"Home"),s.a.createElement("button",{name:"buttonRecipe",onClick:this.handleClickRecipe,className:"ButtonStyle"},"Recipes"),s.a.createElement("button",{name:"buttonLog",onClick:this.LoginOpen,className:"ButtonStyle"},"Login"),s.a.createElement("button",{name:"buttonReg",onClick:this.SignupOpen,className:"ButtonStyle"},"Sing up"))),"Home"===this.state.Page?e=s.a.createElement("span",{onMouseEnter:this.CloseDropDown},s.a.createElement("div",{className:"AdvertsContainer"},this.state.AdvertList.map(function(e){return[s.a.createElement("div",{key:e.id,className:"Album"},s.a.createElement("img",{src:"/Uploaded_Images/"+e.image,className:"Album-Img",alt:"Album",onClick:function(){return a.OpenRecipe(e.id)}}),s.a.createElement("p",{className:"Album-Name",onClick:function(){return a.OpenRecipe(e.id)}},s.a.createElement("label",{className:"title"},e.title),s.a.createElement("label",{className:"Price"},"\xa3 ",e.price)))]}))):"Managment"===this.state.Page?e=s.a.createElement("span",{onMouseEnter:this.CloseDropDown},s.a.createElement("div",{className:"ManagmentContainer"},this.state.ManagmentList.map(function(e){return[s.a.createElement("div",{key:e.id,className:"RecipeItem"},s.a.createElement("div",{className:"Item-Img-Container"},s.a.createElement("img",{src:"/Uploaded_Images/"+e.image,className:"Item-Img",alt:"Item"})),s.a.createElement("div",{className:"Item-Para",onClick:function(){return a.OpenRecipe(e.id)}},s.a.createElement("div",{className:"Item-title"},e.title),s.a.createElement("div",{className:"Item-keywords"},e.keywords),s.a.createElement("div",{className:"Item-stats"}," views: ",e.views," comments: ",e.comments)),"yes"===e.status?s.a.createElement("div",{className:"Button-Container"},s.a.createElement("button",{className:"Item-Buttons",onClick:function(){return a.un_publish(e.id)}},"Un-Publish")):s.a.createElement("div",{className:"Button-Container"},s.a.createElement("button",{className:"Item-Buttons",onClick:function(){return a.publish(e.id)}},"Publish")))]}))):"Messenger"===this.state.Page?e=s.a.createElement("span",{onMouseEnter:this.CloseDropDown},s.a.createElement(N,{user:this.state.logUser,addopen:this.OpenAdvert})):"CreateAdd"===this.state.Page&&(e=s.a.createElement(y,{user:this.state.logUser})),s.a.createElement("div",null,s.a.createElement("title",null,"Home"),s.a.createElement("link",{rel:"stylesheet",href:"node_modules/react-star-rating/dist/css/react-star-rating.min.css"}),this.state.DropDownMenuShow?s.a.createElement("div",{className:"ExternalContainer",onClick:this.CloseDropDown},s.a.createElement("div",{className:"DropdownContainer",onMouseLeave:this.CloseDropDown},s.a.createElement("button",{className:"DropdownItem"},"Create recipes"),s.a.createElement("div",{className:"divider"}),s.a.createElement("button",{className:"DropdownItem",onClick:this.onManageRecipesClick},"Manage recipes"),s.a.createElement("div",{className:"divider"}),s.a.createElement("button",{className:"DropdownItem",onClick:this.PostAdd},"Post Ad"),s.a.createElement("div",{className:"divider"}),s.a.createElement("button",{className:"DropdownItem",onClick:this.OnMessengerClick},"Favourites"),s.a.createElement("div",{className:"divider"}),s.a.createElement("button",{className:"DropdownItem",onClick:this.Logout},"Logout"))):null,t,s.a.createElement("div",{className:"Top-Spacer"}),e,s.a.createElement(E.a,{show:this.state.LoginShow,onHide:this.LoginClose},s.a.createElement("button",{className:"Modal-Close-Btn",onClick:this.LoginClose},"X"),s.a.createElement(E.a.Header,null,s.a.createElement("label",{className:"Modal-Title"},"Log-In")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bodyContainer"},s.a.createElement("label",{className:"fieldHeading"},"Username"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",className:"InputField",value:this.state.Username,onChange:this.onChangeUsername}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("label",{className:"fieldHeading"},"Password"),s.a.createElement("br",null),s.a.createElement("input",{type:"password",className:"InputField",value:this.state.Password,onChange:this.onChangePassword}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{className:"body-Btn",onClick:this.onLoginSubmit},"Login"))),s.a.createElement(E.a.Footer,null,s.a.createElement("label",{className:"Footer-Message"},"DONT HAVE AN ACCOUNT? "),s.a.createElement("label",{className:"Footer-Btn",onClick:this.SignupLink},"SIGN UP"))),s.a.createElement(E.a,{show:this.state.SignupShow,onHide:this.SignupClose},s.a.createElement("button",{className:"Modal-Close-Btn",onClick:this.SignupClose},"X"),s.a.createElement(E.a.Header,null,s.a.createElement("label",{className:"Modal-Title"},"Sign-Up")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bodyContainer"},s.a.createElement("label",{className:"fieldHeading"},"Username"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",className:"InputField",value:this.state.Username,onChange:this.onChangeUsername}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("label",{className:"fieldHeading"},"Password"),s.a.createElement("br",null),s.a.createElement("input",{type:"password",className:"InputField",value:this.state.Password,onChange:this.onChangePassword}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("label",{className:"fieldHeading"},"Confirm Password"),s.a.createElement("br",null),s.a.createElement("input",{type:"password",className:"InputField",value:this.state.PasswordConfirm,onChange:this.onChangePasswordConfirm}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("label",{className:"fieldHeading"},"Email"),s.a.createElement("br",null),s.a.createElement("input",{type:"email",className:"InputField",value:this.state.Email,onChange:this.onChangeEmail}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{className:"body-Btn",onClick:this.onSignupSubmit},"Sign Up"))),s.a.createElement(E.a.Footer,null,s.a.createElement("label",{className:"Footer-Message"},"ALREADY HAVE AN ACCOUNT? "),s.a.createElement("label",{className:"Footer-Btn",onClick:this.LoginLink},"LOG IN"))))}}]),t}(n.Component),w=a(175),D=a(174),L=a(71),U=new(a(17).a),M=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(m.a)(t).call(this))).LogUser=e.LogUser.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"LogUser",value:function(e,t){U.set("User",e,{path:"/"}),U.set("UserID",t,{path:"/"})}},{key:"LogOut",value:function(){U.remove("User"),U.remove("UserID")}},{key:"render",value:function(){var e=this;return s.a.createElement(w.a,{history:v},s.a.createElement("div",null,s.a.createElement(D.a,{path:"/",exact:!0,render:function(t){return s.a.createElement(j,Object.assign({},t,{User:U.get("User"),ID:U.get("UserID"),LogUserIn:e.LogUser,LogUserOut:e.LogOut}))}})))}}]),t}(n.Component),P=Object(L.a)(M);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},73:function(e,t,a){e.exports=a(171)},97:function(e,t,a){}},[[73,2,1]]]);
//# sourceMappingURL=main.e541187d.chunk.js.map